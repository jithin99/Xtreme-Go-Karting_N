import React from 'react'
import { api as axios } from '../lib/api'
function currency(n){return `â‚¹${n.toLocaleString('en-IN')}`}export default function Pricing(){const [rows,setRows]=React.useState([]);React.useEffect(()=>{axios.get('/api/products').then(r=>{const list=[];for(const p of r.data){if(p.type==='AddOn')continue;for(const v of p.variants){list.push({category:p.name,variant:v.name,price:v.price})}}const addon=r.data.find(p=>p.id==='gopro')?.variants[0];if(addon)list.push({category:'Go-Pro Add-on',variant:addon.name,price:addon.price});setRows(list)})},[]);return(<section id='pricing' className='max-w-7xl mx-auto px-4 py-12 md:py-16'><h2 className='text-2xl md:text-3xl font-bold mb-6'>Pricing</h2><div className='overflow-hidden rounded-2xl border bg-white'><table className='w-full text-left text-sm'><thead className='bg-zinc-50'><tr><th className='p-3'>Category</th><th className='p-3'>Variant</th><th className='p-3'>Price</th></tr></thead><tbody>{rows.map((r,i)=>(<tr key={i} className={i%2?'bg-white':'bg-zinc-50'}><td className='p-3'>{r.category}</td><td className='p-3'>{r.variant}</td><td className='p-3 font-semibold'>{currency(r.price)}</td></tr>))}</tbody></table></div></section>)}
